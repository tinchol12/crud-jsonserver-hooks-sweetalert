(this["webpackJsonpcrud-routing-json-react"]=this["webpackJsonpcrud-routing-json-react"]||[]).push([[0],{30:function(e,a,t){e.exports=t(58)},58:function(e,a,t){"use strict";t.r(a);var r=t(0),c=t.n(r),n=t(27),o=t.n(n),l=t(4),s=t.n(l),m=t(6),u=t(7),i=t(11),d=t(10),p=t.n(d),f=function(){return c.a.createElement("nav",{className:"navbar navbar-expand-lg nav-bar bg-dark"},c.a.createElement("div",{className:"container"},c.a.createElement(u.b,{to:"/productos",className:"navbar-brand"},"React CRUD & Routing"),c.a.createElement("ul",{className:"navbar-nav mr-auto"},c.a.createElement("li",{className:"nav-item"},c.a.createElement(u.c,{to:"/productos",className:"nav-link",activeClassName:"active"},"Productos")),c.a.createElement("li",{className:"nav-item"},c.a.createElement(u.c,{to:"nuevo-producto",className:"nav-link",activeClassName:"active"},"Nuevo Producto")))))};var b=function(){return c.a.createElement("h1",{className:"text-center"}," Datos del producto ")},E=t(8),h=t.n(E);var v=function(e){var a=e.producto,t=e.guardarRecargarProductos;return c.a.createElement("li",{"data-categoria":a.categoria,className:"list-group-item d-flex justify-content-between align-items-center"},c.a.createElement("p",null,a.nombrePlato," "," ",c.a.createElement("span",{className:"font-weight-bold"},"$",a.precioPlato)),c.a.createElement("div",null,c.a.createElement(u.b,{to:"/productos/editar/".concat(a.id),className:"btn btn-success mr-2"}," Editar "),c.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return e=a.id,console.log("Eliminando",e),void h.a.fire({title:"Estas seguro de querer eliminar?",text:"Una vez eliminado no se puede recuperar",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar!",cancelButtonText:"Cancelar"}).then((function(a){var r;return s.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(!a.value){c.next=13;break}return c.prev=1,r="http://localhost:4000/restaurant/".concat(e),c.next=5,s.a.awrap(p.a.delete(r));case 5:200===c.sent.status&&(h.a.fire("Eliminado!","Su registro ha sido eliminado.","success"),t(!0)),c.next=13;break;case 9:c.prev=9,c.t0=c.catch(1),console.log(c.t0),h.a.fire({icon:"error",title:"Error...",text:"Hubo un error!"});case 13:case"end":return c.stop()}}),null,null,[[1,9]])}));var e}},"Eliminar &times")))};var g=function(e){var a=e.productos,t=e.guardarRecargarProductos;return c.a.createElement(r.Fragment,null,c.a.createElement("h1",{className:"text-center"}," Productos "),c.a.createElement("ul",{className:"list-group mt-5"},a.map((function(e){return c.a.createElement(v,{key:e.id,producto:e,guardarRecargarProductos:t})}))))},N=function(e){var a=e.mensaje;return c.a.createElement("p",{className:"alert alert-danger p3 my-5 text-center text-uppercase font-weight-bold"}," ",a," ")};var k=Object(i.f)((function(e){var a=e.history,t=e.producto,n=e.guardarRecargarProductos,o=Object(r.useRef)(""),l=Object(r.useRef)(""),u=Object(r.useState)(""),i=Object(m.a)(u,2),d=i[0],f=i[1],b=Object(r.useState)(!1),E=Object(m.a)(b,2),v=E[0],g=E[1],k=function(e){f(e.target.value)};return c.a.createElement("div",{className:"col-md-8 mx-auto "},c.a.createElement("h1",{className:"text-center"},"Editar Producto"),v?c.a.createElement(N,{mensaje:"Todos los campos son obligatorios"}):null,c.a.createElement("form",{className:"mt-5",onSubmit:function(e){var r,c,m,u,i,f;return s.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:if(e.preventDefault(),r=l.current.value,c=o.current.value,""!==r&&""!==c&&""!==d){b.next=5;break}return g(!0),b.abrupt("return");case 5:return g(!1),m=""===d?t.categoria:d,u={precioPlato:c,nombrePlato:r,categoria:m},i="http://localhost:4000/restaurant/".concat(t.id),b.prev=9,b.next=12,s.a.awrap(p.a.put(i,u));case 12:f=b.sent,console.log(f),200===f.status&&h.a.fire("Producto Editado!","El producto se ha editado correctamente.","success"),b.next=21;break;case 17:b.prev=17,b.t0=b.catch(9),console.log(b.t0),h.a.fire({icon:"error",title:"Error...",text:"Hubo un error!"});case 21:n(!0),a.push("/productos");case 23:case"end":return b.stop()}}),null,null,[[9,17]])}},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Nombre Platillo"),c.a.createElement("input",{type:"text",className:"form-control",name:"nombre",placeholder:"Nombre Platillo",ref:l,defaultValue:t.nombrePlato})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Precio Platillo"),c.a.createElement("input",{type:"number",className:"form-control",name:"precio",placeholder:"Precio Platillo",ref:o,defaultValue:t.precioPlato})),c.a.createElement("legend",{className:"text-center"},"Categor\xeda:"),c.a.createElement("div",{className:"text-center"},c.a.createElement("div",{className:"form-check form-check-inline"},c.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",value:"postre",onChange:k,defaultChecked:"postre"===t.categoria}),c.a.createElement("label",{className:"form-check-label"},"Postre")),c.a.createElement("div",{className:"form-check form-check-inline"},c.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",value:"bebida",onChange:k,defaultChecked:"bebida"===t.categoria}),c.a.createElement("label",{className:"form-check-label"},"Bebida")),c.a.createElement("div",{className:"form-check form-check-inline"},c.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",value:"cortes",onChange:k,defaultChecked:"cortes"===t.categoria}),c.a.createElement("label",{className:"form-check-label"},"Cortes")),c.a.createElement("div",{className:"form-check form-check-inline"},c.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",value:"ensalada",onChange:k,defaultChecked:"ensalada"===t.categoria}),c.a.createElement("label",{className:"form-check-label"},"Ensalada"))),c.a.createElement("input",{type:"submit",className:"font-weight-bold text-uppercase mt-5 btn btn-primary btn-block py-3",value:"Editar Producto"})))}));var x=Object(i.f)((function(e){var a=e.history,t=e.guardarRecargarProductos,n=Object(r.useState)(""),o=Object(m.a)(n,2),l=o[0],u=o[1],i=Object(r.useState)(""),d=Object(m.a)(i,2),f=d[0],b=d[1],E=Object(r.useState)(""),v=Object(m.a)(E,2),g=v[0],k=v[1],x=Object(r.useState)(!1),P=Object(m.a)(x,2),y=P[0],j=P[1],C=function(e){k(e.target.value)};return c.a.createElement("div",{className:"col-md-8 mx-auto "},c.a.createElement("h1",{className:"text-center"},"Agregar Nuevo Producto"),y?c.a.createElement(N,{mensaje:"Todos los campos son obligatorios"}):null,c.a.createElement("form",{className:"mt-5",onSubmit:function(e){return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.preventDefault(),""!==l&&""!==f&&""!==g){r.next=4;break}return j(!0),r.abrupt("return");case 4:return j(!1),r.prev=5,r.next=8,s.a.awrap(p.a.post("http://localhost:4000/restaurant",{nombrePlato:l,precioPlato:f,categoria:g}));case 8:201===r.sent.status&&h.a.fire("Producto Creado!","El producto se ha creado correctamente.","success"),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(5),console.log(r.t0),h.a.fire({icon:"error",title:"Error...",text:"Hubo un error!"});case 16:t(!0),a.push("/productos");case 18:case"end":return r.stop()}}),null,null,[[5,12]])}},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Nombre Platillo"),c.a.createElement("input",{type:"text",className:"form-control",name:"nombre",placeholder:"Nombre Platillo",onChange:function(e){return u(e.target.value)}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"Precio Platillo"),c.a.createElement("input",{type:"number",className:"form-control",name:"precio",placeholder:"Precio Platillo",onChange:function(e){return b(e.target.value)}})),c.a.createElement("legend",{className:"text-center"},"Categor\xeda:"),c.a.createElement("div",{className:"text-center"},c.a.createElement("div",{className:"form-check form-check-inline"},c.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",value:"postre",onChange:C}),c.a.createElement("label",{className:"form-check-label"},"Postre")),c.a.createElement("div",{className:"form-check form-check-inline"},c.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",value:"bebida",onChange:C}),c.a.createElement("label",{className:"form-check-label"},"Bebida")),c.a.createElement("div",{className:"form-check form-check-inline"},c.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",value:"cortes",onChange:C}),c.a.createElement("label",{className:"form-check-label"},"Cortes")),c.a.createElement("div",{className:"form-check form-check-inline"},c.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",value:"ensalada",onChange:C}),c.a.createElement("label",{className:"form-check-label"},"Ensalada"))),c.a.createElement("input",{type:"submit",className:"font-weight-bold text-uppercase mt-5 btn btn-primary btn-block py-3",value:"Agregar Producto"})))}));var P=function(){var e=Object(r.useState)([]),a=Object(m.a)(e,2),t=a[0],n=a[1],o=Object(r.useState)(!0),l=Object(m.a)(o,2),d=l[0],E=l[1];return Object(r.useEffect)((function(){if(d){!function(){var e;s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.awrap(p.a.get("http://localhost:4000/restaurant"));case 2:e=a.sent,n(e.data);case 4:case"end":return a.stop()}}))}(),E(!1)}}),[d]),c.a.createElement(u.a,null,c.a.createElement(f,null),c.a.createElement("main",{className:"container mt-5"},c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:"/productos",render:function(){return c.a.createElement(g,{productos:t,guardarRecargarProductos:E})}}),c.a.createElement(i.a,{exact:!0,path:"/nuevo-producto",render:function(){return c.a.createElement(x,{guardarRecargarProductos:E})}}),c.a.createElement(i.a,{exact:!0,path:"/productos/editar/:id",render:function(e){var a=parseInt(e.match.params.id),r=t.filter((function(e){return e.id===a}));return c.a.createElement(k,{producto:r[0],guardarRecargarProductos:E})}}),c.a.createElement(i.a,{exact:!0,path:"/productos/:id",component:b}))),c.a.createElement("p",{className:"mt-4 p2 text-center"}," Todos los derechos reservados"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[30,1,2]]]);
//# sourceMappingURL=main.f7949357.chunk.js.map